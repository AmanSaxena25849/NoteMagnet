{% extends "base.html" %}


{% block main %}

  <main>
  <!-- Header Section -->
    <div class="header">
      <h1>Welcome to NoteMagnet</h1>
      <p>Discover, create, and share notes that stick with you. Your digital notebook for everything important.</p>
      {% if user.is_authenticated%}
        <a class="button signup-btn" href="{% url "create_note" %}">Get Started</a>
      {% else %}
        <a class="button signup-btn" href="{% url "account_login" %}">Get Started</a>
      {% endif %}
    </div>
    
    {% if user.is_authenticated %}
      <!-- My Notes Section -->
      <section class="notes-section">
        <h2 class="section-title">My Notes</h2>

        <div class="notes-container">
          <div class="note-card create-new-note">
            <a href="{% url "create_note" %}">
              <div class="create-new-center">
                <img src="https://img.icons8.com/ios/100/add--v1.png" alt="add--v1"/>
                <p>Create new note</p>
              </div>
            </a>
          </div>

          {% for note in my_notes %}
            <div class="note-card">
              {% if note.note_image %}
                <img src="{{note.note_image.url}}" alt="Note Image" class="note-img">
              {% else %}
                <img src="media/note_image/note_default.png" alt="Note Image" class="note-img">
              {% endif %}
              
              <div class="note-content">
                <h3 class="note-title">{{note.title}}</h3>
                <p class="note-desc">{{note.content|truncatechars:150}}</p>
                <div class="note-meta">
                  <div class="user-info">
                    {% if note.author.profile_image %}
                      <img src="{{note.author.profile_image.url}}" alt="User Avatar" class="user-avatar">
                    {% else %}
                      <img src="https://img.icons8.com/parakeet-line/100/user.png" alt="User Avatar" class="user-avatar">
                    {% endif %}
                    <span>{{note.author.username }}</span>
                  </div>
                  <span>{{note.created_at}}</span>
                </div>

                <a href="#" class="read-more">Read More</a>

              </div>
            </div>
          {% endfor %}
        </div>
        <a href="#" class="view-all">View All My Notes</a>
      </section>
      
    {% endif %}

    <!-- Popular Notes Section -->
    <section class="notes-section">
      <h2 class="section-title">Popular Notes</h2>

      <div class="notes-container">
        <!-- Note Card 1 -->
        <div class="note-card">
          <img src="/api/placeholder/400/180" alt="Note Image" class="note-img">
          <div class="note-content">
            <h3 class="note-title">How to Master Time Management</h3>
            <p class="note-desc">Effective strategies for managing your time and boosting productivity with practical examples...</p>
            <div class="note-meta">
              <div class="user-info">
                <img src="/api/placeholder/30/30" alt="User Avatar" class="user-avatar">
                <span>Sarah Johnson</span>
              </div>
              <span>2 days ago</span>
            </div>
            <a href="#" class="read-more">Read More</a>
          </div>
        </div>
        
        <!-- Note Card 2 -->
        <div class="note-card">
          <img src="/api/placeholder/400/180" alt="Note Image" class="note-img">
          <div class="note-content">
            <h3 class="note-title">The Ultimate Study Guide</h3>
            <p class="note-desc">Comprehensive study techniques for better learning and retention. Perfect for students and lifelong learners...</p>
            <div class="note-meta">
              <div class="user-info">
                <img src="/api/placeholder/30/30" alt="User Avatar" class="user-avatar">
                <span>Mike Chen</span>
              </div>
              <span>1 week ago</span>
            </div>
            <a href="#" class="read-more">Read More</a>
          </div>
        </div>
        
        <!-- Note Card 3 -->
        <div class="note-card">
          <img src="/api/placeholder/400/180" alt="Note Image" class="note-img">
          <div class="note-content">
            <h3 class="note-title">Beginner's Guide to Meditation</h3>
            <p class="note-desc">Simple and effective meditation techniques for reducing stress and improving focus in daily life...</p>
            <div class="note-meta">
              <div class="user-info">
                <img src="/api/placeholder/30/30" alt="User Avatar" class="user-avatar">
                <span>Priya Patel</span>
              </div>
              <span>3 days ago</span>
            </div>
            <a href="#" class="read-more">Read More</a>
          </div>
        </div>
      </div>
      <a href="#" class="view-all">View All Popular Notes</a>
    </section>
    
    <!-- All Notes Section -->
    <section class="notes-section">
      <h2 class="section-title">All Notes</h2>
      <div class="notes-container">
        <!-- Note Card 1 -->
        <div class="note-card">
          <img src="/api/placeholder/400/180" alt="Note Image" class="note-img">
          <div class="note-content">
            <h3 class="note-title">5 Essential Cooking Techniques</h3>
            <p class="note-desc">Master these fundamental cooking methods to elevate your culinary skills and create delicious meals...</p>
            <div class="note-meta">
              <div class="user-info">
                <img src="/api/placeholder/30/30" alt="User Avatar" class="user-avatar">
                <span>Chef Alex</span>
              </div>
              <span>1 day ago</span>
            </div>
            <a href="#" class="read-more">Read More</a>
          </div>
        </div>
        
        <!-- Note Card 2 -->
        <div class="note-card">
          <img src="/api/placeholder/400/180" alt="Note Image" class="note-img">
          <div class="note-content">
            <h3 class="note-title">Digital Marketing Basics</h3>
            <p class="note-desc">An introduction to key digital marketing concepts and strategies for beginners and small business owners...</p>
            <div class="note-meta">
              <div class="user-info">
                <img src="/api/placeholder/30/30" alt="User Avatar" class="user-avatar">
                <span>Jordan Lee</span>
              </div>
              <span>5 days ago</span>
            </div>
            <a href="#" class="read-more">Read More</a>
          </div>
        </div>
        
        <!-- Note Card 3 -->
        <div class="note-card">
          <img src="/api/placeholder/400/180" alt="Note Image" class="note-img">
          <div class="note-content">
            <h3 class="note-title">Healthy Morning Routines</h3>
            <p class="note-desc">Start your day right with these science-backed morning habits that boost energy and productivity...</p>
            <div class="note-meta">
              <div class="user-info">
                <img src="/api/placeholder/30/30" alt="User Avatar" class="user-avatar">
                <span>Emma Wilson</span>
              </div>
              <span>2 weeks ago</span>
            </div>
            <a href="#" class="read-more">Read More</a>
          </div>
        </div>
        
        <!-- Note Card 4 -->
        <div class="note-card">
          <img src="/api/placeholder/400/180" alt="Note Image" class="note-img">
          <div class="note-content">
            <h3 class="note-title">Basic Web Development Guide</h3>
            <p class="note-desc">A beginner-friendly introduction to HTML, CSS and JavaScript with practical examples to get started...</p>
            <div class="note-meta">
              <div class="user-info">
                <img src="/api/placeholder/30/30" alt="User Avatar" class="user-avatar">
                <span>Dev Martinez</span>
              </div>
              <span>4 days ago</span>
            </div>
            <a href="#" class="read-more">Read More</a>
          </div>
        </div>
      </div>
      <a href="#" class="view-all">Explore All Notes</a>
    </section>
  </main>
  {% endblock main %}